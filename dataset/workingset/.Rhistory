allpgs<-data(allpgs.txt)
allpgs<-read.table(paste("allpgs.txt")
)
names(allpgs)
quit(
)
allpgs<-read.table(paste("allpgs.txt"), header=TRUE)
names(allpgs)
dim(allpgs)
quit()
ls()
quit()
allpgs<-read.table(paste("allpgs.txt"), header=TRUE)
MDD<-read.csv("MDD.csv")
gwas<-read.table(paste("gwas.raw"), header=TRUE)
selected.allpgs <- NULL
selected.colnamess <-NULL
for(i in 1:202) {
if(
#((length(grep("FID", names(allpgs)[i], fixed=TRUE))==1) || 
((length(grep("IID", names(allpgs)[i], fixed=TRUE))==1) || 
(length(grep("IID", names(allpgs)[i], fixed=TRUE))==1) || 
(length(grep("ALZ", names(allpgs)[i], fixed=TRUE))==1) || 
(length(grep("ASD", names(allpgs)[i], fixed=TRUE))==1) ||
(length(grep("BIP", names(allpgs)[i], fixed=TRUE))==1) || 
(length(grep("COG", names(allpgs)[i], fixed=TRUE))==1) || 
(length(grep("XDO", names(allpgs)[i], fixed=TRUE))==1) || 
(length(grep("NEU", names(allpgs)[i], fixed=TRUE))==1) || 
(length(grep("SCZ", names(allpgs)[i], fixed=TRUE))==1) ) &&
(length(grep("CNT", names(allpgs)[i], fixed=TRUE))!=1) 
)
{
selected.colnamess <- c(selected.colnamess,names(allpgs)[i])
selected.allpgs <- cbind(selected.allpgs,allpgs[,i])
}
}
colnames(selected.allpgs) <- selected.colnamess
dfallpgs<-as.data.frame(selected.allpgs)
rm(selected.allpgs)
rm(selected.colnamess)
names(dfallpgs)
selected.gwas <- NULL
selected.colnamess <-NULL
for(i in 1:23) {
if(
#(length(grep("FID", names(gwas)[i], fixed=TRUE))==1) || 
(length(grep("IID", names(gwas)[i], fixed=TRUE))==1) || 
(length(grep("SEX", names(gwas)[i], fixed=TRUE))==1) || 
(length(grep("rs", names(gwas)[i], fixed=TRUE))==1) 
)
{
selected.colnamess <- c(selected.colnamess,names(gwas)[i])
selected.gwas <- cbind(selected.gwas,gwas[,i])
}
}
colnames(selected.gwas) <- selected.colnamess
dfgwas<-as.data.frame(selected.gwas)
rm(selected.gwas)
rm(selected.colnamess)
names(dfgwas)
dfMDD <- MDD[,c("IID","SCID_AgeOnset")]
df.MDD <- merge(dfMDD,dfgwas,by="IID", incomparables = NA)
inputdataset <- merge(df.MDD,dfallpgs,by="IID", incomparables = NA)
names(inputdataset)
write.table(inputdataset, "finaldatainput", row.names=FALSE, col.names=TRUE,quote=FALSE)
quit()
quit()
na.roughfix()
library(randomforest)
library(randomForest)
install.packages(randomForest)
install.packages("randomForest")
library(randomForest)
na.roughfix()
quit()
na.roughfix()
library(randomForest)
na.roughfix()
dataf<-read.table(paste("finaldatainput"), header=TRUE)
names(dataf)
dataf<-na.roughfix(dataf)
names(dataf)
table(dataf$rs6732310_A)
table(dataf$rs6732310_A, exclude=NULL)
table(dataf$rs301806_G, exclude=NULL)
table(dataf$rs2815752_G, exclude=NULL)
table(dataf$rs11210072_G, exclude=NULL)
table(dataf$rs11210072_G, exclude=NULL)
table(dataf$rs34320_A, exclude=NULL)
quit()
library(party)
library(randomForest)
set.seed(415)
varimp<-matrix(0,nrow=n,ncol=100)
varimpAUC<-matrix(0,nrow=n,ncol=100)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
dataf<-na.roughfix(dataf)
control<-cforest_control(mtry=19,ntree=1000,replace=FALSE)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-varimp(RFf)
quit()
ls()
dim(dataf)
library(party)
library(randomForest)
set.seed(415)
n=746
varimp<-matrix(0,nrow=n,ncol=55)
varimpAUC<-matrix(0,nrow=n,ncol=55)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
dataf<-na.roughfix(dataf)
control<-cforest_control(mtry=19,ntree=1000,replace=FALSE)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-varimp(RFf)
varimpAUC[i,]<-varimpAUC(RFf)
write.table(varimp, "varVIM", row.names=FALSE, col.names=TRUE,quote=FALSE)
library(party)
library(randomForest)
set.seed(415)
n=746
varimp<-matrix(0,nrow=n,ncol=55)
varimpAUC<-matrix(0,nrow=n,ncol=55)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
dataf<-na.roughfix(dataf)
for(i in 1:n){
control<-cforest_control(mtry=19,ntree=1000,replace=FALSE)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-varimp(RFf)
varimpAUC[i,]<-varimpAUC(RFf)
}
write.table(varimp, "varVIM", row.names=FALSE, col.names=TRUE,quote=FALSE)
library(party)
library(randomForest)
set.seed(415)
n=746
varimp<-matrix(0,nrow=n,ncol=55)
varimpAUC<-matrix(0,nrow=n,ncol=55)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
dataf<-na.roughfix(dataf)
for(i in 1:n){
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-varimp(RFf)
varimpAUC[i,]<-varimpAUC(RFf)
}
write.table(varimp, "varVIM", row.names=FALSE, col.names=TRUE,quote=FALSE)
cleaÂ¬dim(varimp)
dim(varimp)
dim(dataf)
dim(varimp)
dim(RFf)
RFf
varimp(RFf)
names(varimp)
dim(varimp)
varimp<-matrix(0,nrow=n,ncol=54)
varimp[1,]<-varimp(RFf)
varimp
varimp[1,]
dimcolname<-names(varimp(RFf))
dimcolname
library(party)
library(randomForest)
set.seed(415)
n=746
varimp<-matrix(0,nrow=n,ncol=54)
varimpAUC<-matrix(0,nrow=n,ncol=54)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
dataf<-na.roughfix(dataf)
for(i in 1:n){
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-varimp(RFf)
varimpAUC[i,]<-varimpAUC(RFf)
}
library(party)
library(randomForest)
set.seed(415)
n=2
#n=746
varimp<-matrix(0,nrow=n,ncol=54)
varimpAUC<-matrix(0,nrow=n,ncol=54)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
dataf<-na.roughfix(dataf)
for(i in 1:n){
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-varimp(RFf)
varimpAUC[i,]<-varimpAUC(RFf)
}
colnames(VIM10_20f)<-names(varimp(RFf))
write.table(varimp, "varVIM", row.names=FALSE, col.names=TRUE,quote=FALSE)
colnames(varimp)<-names(varimp(RFf))
varimp
quit()
library(party)
varimp<-matrix(0,nrow=n,ncol=54)
varimpAUC<-matrix(0,nrow=n,ncol=54)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
random_seed<-read.table(paste("random_seed"), header=TRUE)
random_seed
length(random_seed)
dim(random_seed)
dim(random_seed)[1]
random_seed[1]
random_seed[1]
random_seed[1,1]
random_seed[1,2]
random_seed[2,1]
random_seed[1:2,1]
random_seed[1:2]
random_seed[1]
random_seed[2]
random_seed[1,1]
random_seed[500,1]
random_seed[500,]
random_seed[500]
random_seed[500,]
for(i in 1:3){
set.seed(random_seed[i,])
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp<-varimp(RFf)
varimpAUC<-varimpAUC(RFf)
colnames(varimp)<-names(varimp(RFf))
colnames(varimpAUC)<-names(varimp(RFf))
write.table(varimp, "varVIM.",i,sep="", row.names=FALSE, col.names=TRUE,quote=FALSE)
write.table(varimpAUC, "varVIMAUC.",i,sep="", row.names=FALSE, col.names=TRUE,quote=FALSE)
}
varimp
for(i in 1:3){
set.seed(random_seed[i,])
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp<-varimp(RFf)
varimpAUC<-varimpAUC(RFf)
}
varimp<-matrix(0,nrow=n,ncol=54)
varimpAUC<-matrix(0,nrow=n,ncol=54)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
random_seed<-read.table(paste("random_seed"), header=TRUE)
#for(i in 1:dim(random_seed)[1]){
for(i in 1:3){
set.seed(random_seed[i,])
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp<-varimp(RFf)
varimpAUC<-varimpAUC(RFf)
}
varimp
varimp<-cbind(1,varimp)
varimp
varimp<-c(1,varimp)
varimp
varimp<-varimp(RFf)
varimp<-c(print("1"),varimp)
varimp
varimp[1,1]
varimp[1]]
varimp[1]
varimp[2]
varimp[1:4]
varimp<-varimp(RFf)
varimp
varimp[1]
varimp[2]
varimp$SEX
varimp$SEX[1]
colnames(varimp)<-names(varimp(RFf))
dataf
dataf[1]
dataf[1,1]
names(dataf)
names(dataf[1,])
names(dataf[2,])
dataf[2,]
names(dataf)
names(dataf)[3:]
names(dataf)[3:55]
c(names(dataf)[1],names(dataf)[3:55])
colnames(varimp)<-c(names(dataf)[1],names(dataf)[3:55])
for(i in 1:3){
set.seed(random_seed[i,])
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-varimp(RFf)
varimpAUC[i,]<-varimpAUC(RFf)
}
varimp<-matrix(0,nrow=n,ncol=54)
varimpAUC<-matrix(0,nrow=n,ncol=54)
dataf<-read.table(paste("finaldatainput"), header=TRUE)
random_seed<-read.table(paste("random_seed"), header=TRUE)
#for(i in 1:dim(random_seed)[1]){
for(i in 1:3){
set.seed(random_seed[i,])
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-varimp(RFf)
varimpAUC[i,]<-varimpAUC(RFf)
}
colnames(varimp)<-c(names(dataf)[1],names(dataf)[3:55])
colnames(varimpAUC)<-c(names(dataf)[1],names(dataf)[3:55])
varimp
varimp<-matrix(0,nrow=n,ncol=55)
varimpAUC<-matrix(0,nrow=n,ncol=55)
#for(i in 1:dim(random_seed)[1]){
for(i in 1:3){
set.seed(random_seed[i,])
control<-cforest_control(mtry=19,ntree=1000)
RFf<-cforest(SCID_AgeOnset~.,data=dataf,controls=control)
varimp[i,]<-c(random_seed[i,],varimp(RFf))
varimpAUC[i,]<-c(random_seed[i,],varimpAUC(RFf))
}
colnames(varimp)<-c(names(dataf)[1],names(dataf)[3:55])
varimp
colnames(varimp)<-c(print("rseeds"),names(dataf)[1],names(dataf)[3:55])
colnames(varimpAUC)<-c(print("rseeds"),names(dataf)[1],names(dataf)[3:55])
varimp
quit()
